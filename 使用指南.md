# Verilog 在线评测系统 - 使用指南

## 项目简介

Verilog 在线评测系统是一个专为数字电路设计学习者打造的在线平台。该系统允许用户提交 Verilog 代码（一种硬件描述语言），并自动评测结果。系统还集成了基于人工智能的代码分析功能，可以对提交的代码进行智能分析和提供改进建议。

## 系统功能

- **用户管理**：注册、登录、登出功能
- **题目浏览**：查看题目列表和详情
- **代码编辑**：在线编写 Verilog 代码，自动保存草稿
- **代码提交与评测**：提交代码并获取即时评测结果
- **历史记录**：查看历史提交记录
- **AI 智能分析**：获取代码提交的智能分析和改进建议

## 安装指南

### 环境要求

#### 前端
- Node.js >= 14.0.0
- npm >= 6.0.0 或 yarn >= 1.22.0

#### 后端
- Python >= 3.8
- Icarus Verilog（iverilog）- 用于 Verilog 代码仿真（Windows 版本已包含在项目中）

### 安装步骤

#### 1. 克隆项目

```bash
git clone https://github.com/您的用户名/verilog-OJ.git
cd verilog-OJ
```

#### 2. 安装前端依赖

```bash
cd frontend
npm install
# 或
yarn install
```

#### 3. 安装后端依赖

```bash
cd ../backend

# 创建并激活虚拟环境（推荐）
python -m venv venv
# Windows:
venv\Scripts\activate
# Linux/Mac:
# source venv/bin/activate

# 安装依赖
pip install -r requirements.txt
```

#### 4. 配置 AI 分析功能（可选）

如果需要启用 AI 代码分析功能，请在 `backend/api_keys.txt` 文件中添加您的 OpenAI API 密钥。

## 运行系统

### 1. 启动后端服务

```bash
cd backend
python app.py
```

成功启动后，后端服务将在 `http://localhost:5000` 运行。

### 2. 启动前端服务

```bash
cd frontend
npm run dev
# 或
yarn dev
```

成功启动后，前端页面将在 `http://localhost:5173` 运行。

## 使用指南

### 1. 注册/登录

- 打开浏览器访问 `http://localhost:5173`
- 点击右上角的"登录"按钮
- 如果没有账号，点击"注册"选项进行注册

### 2. 浏览题目

- 登录后，在主页可以看到题目列表
- 点击任意题目可以查看题目详情

### 3. 提交代码

- 在题目详情页，您可以在代码编辑区编写 Verilog 代码
- 代码会自动保存为草稿
- 完成编写后，点击"提交"按钮提交代码

### 4. 查看评测结果

- 提交后，系统将自动评测您的代码
- 评测结果将显示在页面上，包括：
  - 编译状态（成功/失败）
  - 仿真结果（通过/不通过）
  - 可能的错误信息

### 5. AI 代码分析

- 在评测结果页面，点击"AI 分析"按钮
- 系统将使用 AI 分析您的代码并提供改进建议

### 6. 查看历史提交

- 在个人主页可以查看您的历史提交记录
- 点击任意记录可以查看详细信息，包括代码、评测结果和波形图

## 常见问题解答

### Q: 如何查看波形图？
A: 提交代码后，在评测结果页面可以查看波形图。波形图展示了您的电路在仿真过程中的信号变化情况。

### Q: 我的代码编译失败，该怎么办？
A: 编译失败通常是由于语法错误造成的。请仔细检查您的代码，确保没有拼写错误或语法问题。您也可以使用 AI 分析功能获取改进建议。

### Q: 系统支持哪些 Verilog 特性？
A: 系统使用 Icarus Verilog 进行仿真，支持大部分 Verilog-2005 标准。但请注意，某些高级特性可能不被支持。

### Q: 我可以导入自己的测试用例吗？
A: 目前系统使用预设的测试用例进行评测。用户暂不能上传自定义测试用例。

## 技术支持

如有任何问题或建议，请联系系统管理员。

---

祝您使用愉快！ 